# 挑战模板字段映射解释

## 各模板完整字段映射

### 1. 十回合判断好坏人模板
```json
{
  "cartoonId": "从参数中的角色ID提取（如：000004601925275633598464）",
  "cover": "plan_cover中的image_url（即cover字段内容）",
  "attr_2": "开场白内容",
  "attr_3": "内在人设内容",
  "attr_4": "选项A结局内容",
  "attr_5": "选项B结局内容",
  "attr_6": "背景介绍内容",
  "attr_7": null,
  "attr_8": "plan_bgm中的bgm_url",
  "attr_9": "20",
  "attr_10": "选项A描述内容",
  "attr_11": "选项B描述内容",
  "name": "挑战标题内容",
  "summary": "内容描述内容"
}
```

### 2. 三分钟提升好感度模板
```json
{
  "cartoonId": "从参数中的角色ID提取（如：000004601925275633598464）",
  "cover": "plan_cover中的image_url（即cover字段内容）",
  "attr_5": "角色挑战人设内容（作为补充设定）",
  "attr_6": "角色动机内容",
  "attr_7": "角色开场白内容",
  "attr_8": "挑战目标内容",
  "attr_12": "plan_bgm中的bgm_url",
  "name": "挑战标题内容",
  "summary": "内容描述内容"
}
```

### 3. 20回合提升好感度模板  
```json
{
  "cartoonId": "从参数中的角色ID提取（如：000004601925275633598464）",
  "cover": "plan_cover中的image_url（即cover字段内容）",
  "attr_4": "角色挑战人设内容（作为角色补充设定）",
  "attr_5": "角色动机内容",
  "attr_6": "角色开场白内容",
  "attr_7": "挑战目标内容",
  "attr_9": "plan_bgm中的bgm_url",
  "name": "挑战标题内容",
  "summary": "内容描述内容"
}
```

### 4. 达成目标切换隐藏人设模板
```json
{
  "cartoonId": "从参数中的角色ID提取（如：000004601925275633598464）",
  "cover": "plan_cover中的image_url（即cover字段内容）",
  "attr_2": "角色挑战人设内容",
  "attr_3": "角色开场白内容",
  "attr_4": "挑战目标内容",
  "attr_5": "背景介绍内容",
  "attr_6": "挑战难度内容",
  "attr_7": null,
  "attr_8": "plan_bgm中的bgm_url",
  "attr_9": "隐藏人设内容",
  "attr_10": "挑战时间内容",
  "name": "挑战标题内容",
  "summary": "内容描述内容"
}
```

### 5. 限时达成挑战目标模板
```json
{
  "cartoonId": "从参数中的角色ID提取（如：000004601925275633598464）",
  "cover": "plan_cover中的image_url（即cover字段内容）",
  "attr_2": "角色挑战人设内容",
  "attr_3": "角色开场白内容",
  "attr_4": "挑战目标内容",
  "attr_5": "挑战背景内容",
  "attr_6": "挑战难度内容",
  "attr_7": null,
  "attr_8": "plan_bgm中的bgm_url",
  "attr_9": "挑战时间内容",
  "name": "挑战标题内容",
  "summary": "内容描述内容"
}
```

## 内容提取技巧

### 文本分段提取
- 使用"## 标题名"分段提取对应内容
- 每个模板有多个示例，提取时需要识别并分别处理
- 去除markdown格式符号，保留纯文本内容

### 字段映射注意事项
- **角色ID字段**：cartoonId从参数传入的角色ID中提取
- **字段命名差异**：不同模板的字段名称可能有"角色"前缀或其他差异
- **背景图字段**：attr_7统一传null空值
- **音频字段**：从plan_bgm中提取bgm_url
- **封面字段**：cover从plan_cover中提取image_url

### 默认值处理
- URL字段：使用占位符URL "https://img.ideaflow.pro/image/c145a706f150c9dbf01f1999b74ff4d7.jpeg"
- 音频URL：使用占位符 "https://img.ideaflow.pro/audio/000004097577163548016640.mp3"
- 时间字段：300-600秒的合理范围
- 难度字段：一般为"高难度"或具体描述

### 多示例处理
- 每个文件包含多个示例，用"---"分隔
- 可选择最适合的示例进行转换
- 或分别转换多个示例生成不同的JSON